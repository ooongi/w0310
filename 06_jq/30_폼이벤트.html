<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>폼이벤트</title>
    <style>
        * {
            margin: 5px;
        }

        input[type=text].on {
            background: #ff6600;
            color: #fff;
        }

        p {
            color: #ff0000;
            display: none;
        }

        #m2 {
            border: 1px solid saddlebrown;
        }
    </style>
</head>

<body>

    <div id="m1">
        <label for="m_1">m1</label>
        <input id="m_1" type="text" placeholder="값을 입력하세요.">
    </div>
    <div id="m2">
        <label for="m_2">m2</label>
        <input id="m_2" type="text" placeholder="값을 입력하세요.">
    </div>
    <div id="m3">
        <label for="m_3">m3</label>
        <input id="m_3" type="text" value="10" title="값을 수정한 후 다음 입력요소로 이동하세요.">
    </div>
    <div id="m4">
        <label for="m_4">m4</label>
        <input id="m_4" type="text" value="텍스트를 드래그하세요.">
    </div>
    <form action="#" class="frm">
        <fieldset>
            <legend>로그인</legend>
            <div>
                <label for="id">아이디</label>
                <input type="text" id="id">
            </div>
            <p class="msg1">아이디를 입력하세요!</p>
            <div>
                <label for="pw">비밀번호</label>
                <input type="password" id="pw">
            </div>
            <p class="msg2">비밀번호를 입력하세요!</p>
            <button>전송</button>
        </fieldset>
    </form>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"
        integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
    <script>
        /* 
            폼 관련 이벤트
                focus()
                    요소에 포커스가 들어오면(클릭)
                blur()
                    선택된요소에서 포커스가 떠나면
                focusin()
                    선택한 요소나 자식 요소에 포커스가 들어오면
                focusout()
                    선택한 요소나 자식 요소에 포커스가 떠나면
                change()
                    요소에 값이 변경되었을 때 -> 때 값을 입력한 후 포커스가 떠났을 떄
                select()
                    요소의 값을 선택하였을 때 -> 입력 상자의 텍스트를 드래그했을 때
                submit()
                    폼 데이터가 서버로 전송될 때 -> 전송 버튼을 눌렀을 때

            메서드
                val()
                    요소의 값을 가져온다
                val(값)
                    요소의 값을 지정한다
            
            속성
                length
                    문자열의 길이(괄호없음)


        */
        $(() => {
            $('#m1 input').focus(function () {
                $(this).addClass('on');
            }).blur(function(){
                $(this).removeClass('on');
            });
            
            $('#m2').focusin(function () {
                $(this).children().addClass('on');
            }).focusout(function(){
                $(this).children().removeClass('on');
            });

            const c = $('m3 input').val();
            console.log(c);
            $('#m3 input').change(function(){
                const c = confirm('값을 바꾸시겠습니까?');
                if (!c) {
                    $(this).val(10);
                }
            });

            $('#m4 input').select(function(){
                const v = $(this).val();
                const size = v.length;
                alert(`${v} 총 ${size}문자를 선택하셨습니다.`);
            });

            $('.frm').submit(function(){
                // 아이디 입력
                if(!$('#id').val()) {
                    $('.msg1').css({display: 'block'});
                    // 전송 버튼을 눌렀을 때 아이디칸으로 커서가 자동으로 넘어감
                    $('#id').focus();
                    return false;
                } else {
                    $('.msg1').css({display: 'none'});
                }
                // 비밀번호 입력
                if(!$('#pw').val()) {
                    $('.msg2').css({display: 'block'});
                    $('#pw').focus();
                    return false;
                } else {
                    $('.msg2').css({display: 'none'});
                }
            });
        });
    </script>
</body>

</html>